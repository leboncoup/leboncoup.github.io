<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Le Bon Coup - Menu</title>
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.7.107/build/pdf.min.js"></script>
</head>
<body>
<script>

    const displayPdf = async (pdf, pageNumber = 1) => {
        const page = await pdf.getPage(pageNumber);
        const viewport = getViewport(page);
        const canvasContext = getCanvasContext(viewport);
        page.render({viewport, canvasContext});
        return displayPdf(pdf, page.pageNumber + 1);
    };

    const getViewport = (page) => {
        const unscaledViewport = page.getViewport({scale: 1});
        const scale = document.body.clientWidth / unscaledViewport.width;
        return page.getViewport({scale});
    };

    const getCanvasContext = (viewport) => {
        const canvas = document.createElement("canvas");
        canvas.style.display = "block";
        canvas.height = viewport.height;
        canvas.width = viewport.width;
        document.body.appendChild(canvas);
        return canvas.getContext("2d");
    };

    pdfjsLib.getDocument("https://leboncoup.github.io/menu.pdf").promise.then(displayPdf);

</script>
</body>
</html>
